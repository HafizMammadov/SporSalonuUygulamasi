@{
    ViewData["Title"] = "Programınız Hazır";
}

<div class="container mt-5">
    <div class="text-center mb-4">
        <h2 class="display-6">Yapay Zeka Destekli Değişim Programı</h2>
        <p class="text-muted">Senin verilerine özel olarak hazırlandı.</p>
    </div>

    <div class="row">
        <!-- Sol Alan: Resim ve Özet -->
        <div class="col-lg-4 mb-4">
            <div class="card shadow border-0 h-100">
                <div class="card-body p-3 text-center bg-light">
                    <h5 class="card-title mt-2 mb-3">Hedeflenen Görünüm</h5>
                    <img src="@ViewBag.GeneratedImageUrl" class="img-fluid rounded shadow-sm mb-3" alt="AI Generated Body" style="width: 100%; object-fit: cover; max-height: 400px;">
                    <small class="text-muted d-block fst-italic">
                        *Yapay zeka tarafından hedeflerine uygun olarak oluşturulmuştur.
                    </small>
                </div>
            </div>
        </div>

        <!-- Sağ Alan: Sekmeli İçerik -->
        <div class="col-lg-8">
            <div class="card shadow border-0 h-100">
                <div class="card-header bg-white border-bottom-0 pb-0">
                    <ul class="nav nav-tabs" id="planTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active fw-bold" id="diet-tab" data-bs-toggle="tab" data-bs-target="#diet" type="button" role="tab" aria-controls="diet" aria-selected="true">
                                <i class="fas fa-utensils me-2"></i>Beslenme Programı
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link fw-bold" id="workout-tab" data-bs-toggle="tab" data-bs-target="#workout" type="button" role="tab" aria-controls="workout" aria-selected="false">
                                <i class="fas fa-dumbbell me-2"></i>Antrenman Programı
                            </button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="planTabsContent">
                        <!-- Beslenme Sekmesi -->
                        <div class="tab-pane fade show active" id="diet" role="tabpanel" aria-labelledby="diet-tab">
                            <div class="p-3" style="white-space: pre-wrap; font-family: 'Segoe UI', sans-serif;">
                                @Html.Raw(ViewBag.DietPlan)
                            </div>
                        </div>
                        
                        <!-- Antrenman Sekmesi -->
                        <div class="tab-pane fade" id="workout" role="tabpanel" aria-labelledby="workout-tab">
                            <div class="p-3" style="white-space: pre-wrap; font-family: 'Segoe UI', sans-serif;">
                                @Html.Raw(ViewBag.ExercisePlan)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="text-center my-5">
        <a href="/Ai/Index" class="btn btn-outline-primary btn-lg rounded-pill px-5">Yeni Plan Oluştur</a>
    </div>
</div>